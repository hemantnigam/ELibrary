webpackJsonp([1],{"03a1":function(t,a){},"1/oy":function(t,a){},"9M+g":function(t,a){},"9n4B":function(t,a){},GfHa:function(t,a){},I9OD:function(t,a){},Id91:function(t,a){},JBIc:function(t,a){},Jmt5:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),i=e("mvHQ"),n=e.n(i),o={name:"header",data:function(){return{username:"",profileURL:"",loginstatus:!1}},methods:{signout:function(){var t=this;gapi.auth2.getAuthInstance().signOut().then(function(){console.log("User signed out."),t.$router.push("/login"),t.loginstatus=!1,document.cookie.split(";").forEach(function(t){document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})})},attachSignin:function(t){console.log(t.id),auth2.attachClickHandler(t,{},function(t){document.getElementById("name").innerText="Signed in: "+t.getBasicProfile().getName()},function(t){alert(n()(t,void 0,2))})}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header",staticStyle:{display:"flex"}},[e("div",{staticClass:"title"},[t._v("E-Library")]),t._v(" "),e("div",{staticClass:"profileInfo"},[t.loginstatus?e("div",{staticClass:"userinfo"},[e("div",{staticStyle:{"margin-top":"5px"}},[e("img",{attrs:{src:t.profileURL}})]),t._v(" "),e("div",{staticStyle:{"margin-top":"10px"}},[t._v("Hello, "+t._s(t.username))])]):t._e(),t._v(" "),t.loginstatus?e("div",{staticStyle:{"padding-top":"30px"}},[e("button",{staticClass:"logoff",on:{click:t.signout}},[t._v("SignOut")])]):t._e()])])},staticRenderFns:[]};var c={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"footer"}})},staticRenderFns:[]};var l={name:"WebContainer",components:{Header:e("VU/8")(o,r,!1,function(t){e("pUJc")},null,null).exports,Footer:e("VU/8")({name:"Footer"},c,!1,function(t){e("9n4B")},null,null).exports},methods:{userdetails:function(t,a,e){this.$refs.header.username=t,this.$refs.header.profileURL=a,this.$refs.header.loginstatus=e,this.$router.push({path:"/home"})}}},d={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"container"}},[a("Header",{ref:"header"}),this._v(" "),a("router-view",{on:{userdetails:this.userdetails}}),this._v(" "),a("Footer")],1)},staticRenderFns:[]};var h={name:"App",components:{WebContainer:e("VU/8")(l,d,!1,function(t){e("JBIc")},null,null).exports},created:function(){this.$router.replace("/")}},u={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("WebContainer")],1)},staticRenderFns:[]};var _=e("VU/8")(h,u,!1,function(t){e("fGPg")},null,null).exports,v=e("/ocq"),p=e("bOdI"),f=e.n(p),g=e("mtWM"),b=e.n(g),m={name:"Home",components:{},data:function(){return f()({fields:["title","author_name","actions"],search_detail:"",search_data:[],tableData:[],searchType:"name",hasTableTitleData:!1,hasTableISBNData:!1,ISBNData:{},currentPage:1,perPage:5,totalRows:"",bookdata:{},nameSpinner:!1,isbnSpinner:!1,loadBookData:!1},"ISBNData",{})},methods:{info:function(t,a,e){this.loadBookData=!1,void 0!=t.title&&(this.bookdata.title=t.title),void 0!=t.author_name&&(this.bookdata.author_name=t.author_name[0]),void 0!=t.subject&&(this.bookdata.subject=t.subject),void 0!=t.language&&(this.bookdata.language=t.language),void 0!=t.first_publish_year&&(this.bookdata.first_publish_year=t.first_publish_year),void 0!=t.publisher&&(this.bookdata.publisher=t.publisher),void 0!=t.contributor&&(this.bookdata.contributor=t.contributor),this.loadBookData=!0},showModal:function(){this.$refs.myModalRef.show()},hideModal:function(){this.$refs.myModalRef.hide()},showNotification:function(){this.$refs.notification.show()},hideNotification:function(){this.$refs.notification.hide()},search:function(t){this.searchType=t,this.hasTableTitleData=!1,this.hasTableISBNData=!1,"name"==this.searchType?this.searchByName():"isbn"==this.searchType&&this.searchByISBN_Data()},searchByName:function(){var t=this;this.nameSpinner=!0,b.a.get("https://openlibrary.org/search.json",{params:{title:this.search_detail}}).then(function(a){t.search_data=a.data.docs,""!=t.search_data?(t.tableData=t.createTableJSON(t.search_data),console.log(t.tableData.length),t.hasTableTitleData=!0,t.totalRows=t.tableData.length):t.showNotification(),t.nameSpinner=!1}).catch(function(a){t.nameSpinner=!1})},searchByISBN_Data:function(){var t=this;this.isbnSpinner=!0,this.hasTableISBNData=!1;var a=this;b.a.get("https://openlibrary.org/api/books",{params:{bibkeys:"ISBN:"+a.search_detail,jscmd:"data",format:"json"}}).then(function(e){if("{}"!=n()(e.data)){a.search_data=n()(e.data);for(var s=0,i=0,o=0;o<a.search_data.length;o++)if("{"==a.search_data.charAt(o)&&i++,2==i){s=o;break}a.search_data=JSON.parse(a.search_data.substring(s,a.search_data.length-1)),void 0!=a.search_data.title?a.ISBNData.title=a.search_data.title:a.ISBNData.title="",void 0!=a.search_data.publishers?a.ISBNData.publisher=a.search_data.publishers[0]:a.ISBNData.publisher="",void 0!=a.search_data.cover?a.ISBNData.cover=a.search_data.cover.large:a.ISBNData.cover="",void 0!=a.search_data.url?a.ISBNData.url=a.search_data.url:a.ISBNData.url="",void 0!=a.search_data.authors?a.ISBNData.authors=a.search_data.authors:a.ISBNData.authors="",void 0!=a.search_data.publish_date?a.ISBNData.publish_date=a.search_data.publish_date:a.ISBNData.publish_date="",void 0!=a.search_data.subjects?a.ISBNData.subjects=a.search_data.subjects:a.ISBNData.subjects="",console.log(a.ISBNData),a.hasTableISBNData=!0}else t.showNotification();t.isbnSpinner=!1}).catch(function(a){t.isbnSpinner=!1})},createTableJSON:function(t){for(var a=[],e=0;e<t.length;e++){var s={};void 0!=t[e].title&&void 0!=t[e].author_name&&(s.title=t[e].title,s.author=t[e].author_name[0],a.push(s))}return a}}},S={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.nameSpinner||t.isbnSpinner?e("div",{staticClass:"overlay"},[e("div",{staticClass:"loader center"})]):t._e(),t._v(" "),e("div",{staticStyle:{"text-align":"center"},attrs:{id:"search"}},[e("div",{staticClass:"search_header"},[t._v("Search Books")]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search_detail,expression:"search_detail"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search_detail},on:{input:function(a){a.target.composing||(t.search_detail=a.target.value)}}})]),t._v(" "),e("div",{staticStyle:{display:"-webkit-inline-box"}},[e("div",{staticStyle:{display:"flex"}},[e("div",[e("button",{staticClass:"search_button",on:{click:function(a){t.search("name")}}},[t._v("Search By Name")])]),t._v(" "),e("div",[e("button",{staticClass:"search_button",on:{click:function(a){t.search("isbn")}}},[t._v("Search By ISBN")])])])])]),t._v(" "),t.hasTableTitleData?e("div",[e("b-table",{attrs:{bordered:"",small:"",hover:"",items:t.search_data,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage},scopedSlots:t._u([{key:"actions",fn:function(a){return[e("div",[e("b-button",{on:{click:[t.showModal,function(e){e.stopPropagation(),t.info(a.item,a.index,e.target)}]}},[t._v("Show Details")]),t._v(" "),e("b-modal",{ref:"myModalRef",attrs:{"hide-footer":"",title:t.bookdata.title}},[e("div",{staticClass:"d-block text-center"},[t.loadBookData?e("div",[e("ul",[e("li",[e("span",{staticClass:"heading"},[t._v("Title:")]),t._v(" "),e("span",{staticClass:"description"},[t._v(t._s(t.bookdata.title))])]),t._v(" "),e("li",[e("span",{staticClass:"heading"},[t._v("Author Name:")]),t._v(" "),e("span",{staticClass:"description"},[t._v(t._s(t.bookdata.author_name))])]),t._v(" "),e("li",[e("span",{staticClass:"heading"},[t._v("Subjects:")]),t._v(" "),t._l(t.bookdata.subject,function(a){return e("span",{key:a,staticClass:"description"},[t._v(t._s(a)+", ")])})],2),t._v(" "),e("li",[e("span",{staticClass:"heading"},[t._v("Languages:")]),t._v(" "),t._l(t.bookdata.language,function(a){return e("span",{key:a,staticClass:"description"},[t._v(t._s(a)+", ")])})],2),t._v(" "),e("li",[e("span",{staticClass:"heading"},[t._v("Published Year:")]),t._v(" "),e("span",{staticClass:"description"},[t._v(t._s(t.bookdata.first_publish_year))])]),t._v(" "),e("li",[e("span",{staticClass:"heading"},[t._v("Publishers:")]),t._v(" "),t._l(t.bookdata.publisher,function(a){return e("span",{key:a,staticClass:"description"},[t._v(t._s(a)+", ")])})],2),t._v(" "),e("li",[e("span",{staticClass:"heading"},[t._v("Contributors:")]),t._v(" "),t._l(t.bookdata.contributor,function(a){return e("span",{key:a,staticClass:"description"},[t._v(t._s(a)+", ")])})],2)])]):t._e()]),t._v(" "),e("b-btn",{staticClass:"mt-3",attrs:{block:""},on:{click:t.hideModal}},[t._v("Close")])],1)],1)]}}])}),t._v(" "),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center"},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)],1)],1):t._e(),t._v(" "),t.hasTableISBNData?e("div",{staticStyle:{display:"flex",width:"90%","margin-left":"20px"}},[e("div",[e("img",{staticStyle:{height:"400px"},attrs:{src:t.ISBNData.cover}})]),t._v(" "),e("div",{staticClass:"ISBNdetails"},[e("div",[e("span",{staticClass:"heading"},[t._v("Title: ")]),t._v(" "),e("span",{staticClass:"description"},[t._v(t._s(t.ISBNData.title))])]),t._v(" "),e("div",[e("span",{staticClass:"heading"},[t._v("Authors: ")]),t._v(" "),t._l(t.ISBNData.authors,function(a){return e("span",{key:a,staticClass:"description"},[t._v(t._s(a.name)+", ")])})],2),t._v(" "),e("div",[e("span",{staticClass:"heading"},[t._v("Subjects: ")]),t._v(" "),t._l(t.ISBNData.subjects,function(a){return e("span",{key:a,staticClass:"description"},[t._v(t._s(a.name)+", ")])})],2),t._v(" "),e("div",[e("span",{staticClass:"heading"},[t._v("Publishers")]),t._v(" "),t._l(t.ISBNData.publisher,function(a){return e("span",{key:a,staticClass:"description"},[t._v(t._s(a)+", ")])})],2),t._v(" "),e("div",[e("span",{staticClass:"heading"},[t._v("publish_date")]),t._v(" "),e("span",{staticClass:"description"},[t._v(t._s(t.ISBNData.publish_date))])]),t._v(" "),e("div",[e("span",{staticClass:"heading"},[t._v("More Info: ")]),t._v(" "),e("span",{staticClass:"description"},[e("a",{attrs:{href:t.ISBNData.url}},[t._v(t._s(t.ISBNData.url))])])])])]):t._e(),t._v(" "),e("div",[e("b-modal",{ref:"notification",attrs:{"hide-footer":""}},[e("div",{staticClass:"d-block text-center"},[e("h3",[t._v("No Data found for this record")])]),t._v(" "),e("b-btn",{staticClass:"mt-3",attrs:{block:""},on:{click:t.hideNotification}},[t._v("Close Me")])],1)],1)])])},staticRenderFns:[]};var N=e("VU/8")(m,S,!1,function(t){e("I9OD")},null,null).exports,C={name:"Login",mounted:function(){gapi.signin2.render("google-signin-button",{onsuccess:this.onSignIn})},methods:{onSignIn:function(t){var a=t.getBasicProfile();console.log("ID: "+a.getId()),console.log("Name: "+a.getName()),console.log("Image URL: "+a.getImageUrl()),console.log("Email: "+a.getEmail()),this.$emit("userdetails",a.getName(),a.getImageUrl(),!0)}}},B={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"sign"},[a("div",{staticClass:"g-signin2",attrs:{id:"google-signin-button"}})])}]};var I=e("VU/8")(C,B,!1,function(t){e("03a1")},"data-v-33ac4b61",null).exports;s.a.use(v.a);var y=new v.a({mode:"history",routes:[{path:"/",redirect:"/login"},{path:"/home",name:"home",component:N},{path:"/login",name:"login",component:I}]}),D=e("e6fC");e("Jmt5"),e("9M+g");s.a.config.productionTip=!1,s.a.use(D.a),new s.a({el:"#app",router:y,components:{App:_},template:"<App/>"})},fGPg:function(t,a){},pUJc:function(t,a){},zj2Q:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.02968394e2c2210e6d26.js.map